<div class="modal-overlay" (click)="close()"></div> <!-- Background overlay -->
<div class="add-product-container">
  <div class="add-product-form">
    <button class="close-button" (click)="close()">Ã—</button>
    <h3>Add New Product</h3>

    <form (ngSubmit)="submitProduct()" #productForm="ngForm" novalidate>
      <!-- Product Name in Arabic -->
      <div>
        <label for="nameAr">Product Name (AR):</label>
        <input
          type="text"
          id="nameAr"
          [(ngModel)]="productData.NameAr"
          name="nameAr"
          required
        />
      </div>

      <!-- Product Name in English -->
      <div>
        <label for="nameEn">Product Name (EN):</label>
        <input
          type="text"
          id="nameEn"
          [(ngModel)]="productData.NameEn"
          name="nameEn"
          required
        />
      </div>

      <!-- Product Price -->
      <div>
        <label for="price">Price:</label>
        <input
          type="number"
          id="price"
          [(ngModel)]="productData.Price"
          name="price"
          required
        />

      </div>

      <!-- Dropdown for Category -->
      <div>
        <label for="category">Category:</label>
        <select
          id="category"
          [(ngModel)]="productData.CategoryId"
          name="categoryId"
          required
        >
          <option *ngFor="let category of Categories" [value]="category.value">
            {{ category.nameEn }}
          </option>
        </select>
      </div>

      <!-- Dropdown for Brand -->
      <div>
        <label for="brand">Brand:</label>
        <select
          id="brand"
          [(ngModel)]="productData.BrandId"
          name="brandId"
          required
        >
          <option *ngFor="let brand of brands" [value]="brand.value">
            {{ brand.nameEn }}
          </option>
        </select>
      </div>

      <!-- Dropdown for Material -->
      <div>
        <label for="material">Material:</label>
        <select
          id="material"
          [(ngModel)]="productData.MaterialId"
          name="materialId"
          required
        >
          <option *ngFor="let material of Materials" [value]="material.value">
            {{ material.nameEn }}
          </option>
        </select>
      </div>

      <!-- Dropdown for Style -->
      <div>
        <label for="style">Style:</label>
        <select
          id="style"
          [(ngModel)]="productData.StyleId"
          name="styleId"
          required
        >
          <option *ngFor="let style of Styles" [value]="style.value">
            {{ style.nameEn }}
          </option>
        </select>
      </div>

      <!-- Description Fields -->
      <div>
        <label for="descriptionAr">Description (AR):</label>
        <textarea
          id="descriptionAr"
          [(ngModel)]="productData.DescriptionAr"
          name="descriptionAr"
          required
        ></textarea>
      </div>

      <div>
        <label for="descriptionEn">Description (EN):</label>
        <textarea
          id="descriptionEn"
          [(ngModel)]="productData.DescriptionEn"
          name="descriptionEn"
          required
        ></textarea>
      </div>

      <!-- Product Dimensions -->
      <div>
        <label for="height">Height:</label>
        <input
          type="number"
          id="height"
          [(ngModel)]="productData.Height"
          name="height"
          required
        />
      </div>

      <div>
        <label for="width">Width:</label>
        <input
          type="number"
          id="width"
          [(ngModel)]="productData.Width"
          name="width"
          required
        />
      </div>

      <div>
        <label for="weight">Weight:</label>
        <input
          type="number"
          id="weight"
          [(ngModel)]="productData.Weight"
          name="weight"
          required
        />
      </div>

      <!-- Image Upload Section -->
      <div>
        <label for="images">Upload Images:</label>
        <span class="note">The first image becomes the cover page.</span>
        
        <input
          type="file"
          id="images"
          (change)="onFileChange($event)"
          multiple
          accept=".jpg, .jpeg, .png"
        />
      </div>

      <!-- Image Previews -->
      <div *ngIf="imagePreviews.length > 0">
        <h4>Image Previews:</h4>
        <div *ngFor="let image of imagePreviews">
          <img [src]="image" alt="Image Preview" />
        </div>
      </div>

      <!-- Submit and Close Buttons -->
       <div class="buttonContainer">
      <button
        type="submit"
        class="custom-button"
        [disabled]="isSaving || !productForm.valid"
        [class.disabled]="isSaving || !productForm.valid"
        [class.valid]="productForm.valid && !isSaving"
      
      >
        {{ isSaving ? 'Saving...' : 'Submit' }}
      </button>
      <button class="close-button-2" type="button" (click)="close()">Close</button>
    </div>
    </form>

  </div>
</div>
